[
    {
        "tabla": "Usuario",
        "atributos": [
            "tiene_autorizador: es_administrador"
        ],
        "composicion": [
            {
                "sentencia": "columna",
                "columna": "id",
                "tipo": "INTEGER",
                "detalles": "PRIMARY KEY AUTOINCREMENT",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "nombre",
                "tipo": "VARCHAR",
                "detalles": "(256) UNIQUE NOT NULL",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "domicilio",
                "tipo": "VARCHAR",
                "detalles": "(1024)",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "correo",
                "tipo": "VARCHAR",
                "detalles": "(512)",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "contrasenya",
                "tipo": "VARCHAR",
                "detalles": "(512)",
                "atributos": []
            }
        ],
        "script": "CREATE TABLE Usuario /*\n  @tiene_autorizador: es_administrador\n*/ (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  nombre VARCHAR(256) UNIQUE NOT NULL,\n  domicilio VARCHAR(1024),\n  correo VARCHAR (512),\n  contrasenya VARCHAR(512)\n);"
    },
    {
        "tabla": "Grupo",
        "atributos": [
            "tiene_autorizador: incluir: insert | update | delete: {\"permisos\":[\"permiso de administración\"]}"
        ],
        "composicion": [
            {
                "sentencia": "columna",
                "columna": "id",
                "tipo": "INTEGER",
                "detalles": "PRIMARY KEY AUTOINCREMENT",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "nombre",
                "tipo": "VARCHAR",
                "detalles": "(256) UNIQUE NOT NULL",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "descripcion",
                "tipo": "TEXT",
                "detalles": "",
                "atributos": []
            }
        ],
        "script": "\n\nCREATE TABLE Grupo /*\n  @tiene_autorizador: incluir: insert | update | delete: {\"permisos\":[\"permiso de administración\"]}\n*/ (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  nombre VARCHAR(256) UNIQUE NOT NULL,\n  descripcion TEXT\n);"
    },
    {
        "tabla": "Permiso",
        "atributos": [
            "tiene_autorizador: incluir: insert | update | delete: {\"permisos\":[\"permiso de administración\"]}"
        ],
        "composicion": [
            {
                "sentencia": "columna",
                "columna": "id",
                "tipo": "INTEGER",
                "detalles": "PRIMARY KEY AUTOINCREMENT",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "nombre",
                "tipo": "VARCHAR",
                "detalles": "(256) UNIQUE NOT NULL",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "descripcion",
                "tipo": "TEXT",
                "detalles": "",
                "atributos": []
            }
        ],
        "script": "\n\nCREATE TABLE Permiso /*\n  @tiene_autorizador: incluir: insert | update | delete: {\"permisos\":[\"permiso de administración\"]}\n*/ (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  nombre VARCHAR(256) UNIQUE NOT NULL,\n  descripcion TEXT\n);"
    },
    {
        "tabla": "Permiso_de_grupo",
        "atributos": [
            "tiene_autorizador: incluir: insert | update | delete: {\"permisos\":[\"permiso de administración\"]}"
        ],
        "composicion": [
            {
                "sentencia": "columna",
                "columna": "id",
                "tipo": "INTEGER",
                "detalles": "PRIMARY KEY AUTOINCREMENT",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "id_permiso",
                "tipo": "INTEGER",
                "detalles": "",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "id_grupo",
                "tipo": "INTEGER",
                "detalles": "",
                "atributos": []
            },
            {
                "sentencia": "clave foránea",
                "columna": "id_grupo",
                "tabla_foranea": "Grupo",
                "columna_foranea": "id"
            },
            {
                "sentencia": "clave foránea",
                "columna": "id_permiso",
                "tabla_foranea": "Permiso",
                "columna_foranea": "id"
            }
        ],
        "script": "\n\nCREATE TABLE Permiso_de_grupo /*\n  @tiene_autorizador: incluir: insert | update | delete: {\"permisos\":[\"permiso de administración\"]}\n*/ (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  id_permiso INTEGER,\n  id_grupo INTEGER,\n  FOREIGN KEY (id_grupo) REFERENCES Grupo (id),\n  FOREIGN KEY (id_permiso) REFERENCES Permiso (id)\n);"
    },
    {
        "tabla": "Permiso_de_usuario",
        "atributos": [
            "tiene_autorizador: incluir: insert | update | delete: {\"permisos\":[\"permiso de administración\"]}"
        ],
        "composicion": [
            {
                "sentencia": "columna",
                "columna": "id",
                "tipo": "INTEGER",
                "detalles": "PRIMARY KEY AUTOINCREMENT",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "id_permiso",
                "tipo": "INTEGER",
                "detalles": "",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "id_usuario",
                "tipo": "INTEGER",
                "detalles": "",
                "atributos": []
            },
            {
                "sentencia": "clave foránea",
                "columna": "id_usuario",
                "tabla_foranea": "Usuario",
                "columna_foranea": "id"
            },
            {
                "sentencia": "clave foránea",
                "columna": "id_permiso",
                "tabla_foranea": "Permiso",
                "columna_foranea": "id"
            }
        ],
        "script": "\n\nCREATE TABLE Permiso_de_usuario /*\n  @tiene_autorizador: incluir: insert | update | delete: {\"permisos\":[\"permiso de administración\"]}\n*/ (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  id_permiso INTEGER,\n  id_usuario INTEGER,\n  FOREIGN KEY (id_usuario) REFERENCES Usuario (id),\n  FOREIGN KEY (id_permiso) REFERENCES Permiso (id)\n);"
    },
    {
        "tabla": "Grupo_de_usuario",
        "atributos": [
            "tiene_autorizador: incluir: insert | update | delete: {\"permisos\":[\"permiso de administración\"]}"
        ],
        "composicion": [
            {
                "sentencia": "columna",
                "columna": "id",
                "tipo": "INTEGER",
                "detalles": "PRIMARY KEY AUTOINCREMENT",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "id_usuario",
                "tipo": "INTEGER",
                "detalles": "",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "id_grupo",
                "tipo": "INTEGER",
                "detalles": "",
                "atributos": []
            },
            {
                "sentencia": "clave foránea",
                "columna": "id_grupo",
                "tabla_foranea": "Grupo",
                "columna_foranea": "id"
            },
            {
                "sentencia": "clave foránea",
                "columna": "id_usuario",
                "tabla_foranea": "Usuario",
                "columna_foranea": "id"
            }
        ],
        "script": "\n\nCREATE TABLE Grupo_de_usuario /*\n  @tiene_autorizador: incluir: insert | update | delete: {\"permisos\":[\"permiso de administración\"]}\n*/ (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  id_usuario INTEGER,\n  id_grupo INTEGER,\n  FOREIGN KEY (id_grupo) REFERENCES Grupo (id),\n  FOREIGN KEY (id_usuario) REFERENCES Usuario (id)\n);"
    },
    {
        "tabla": "Sesion",
        "atributos": [
            "tiene_autorizador: es_administrador",
            "nombre_humano: Sesión"
        ],
        "composicion": [
            {
                "sentencia": "columna",
                "columna": "id",
                "tipo": "INTEGER",
                "detalles": "PRIMARY KEY AUTOINCREMENT",
                "atributos": []
            },
            {
                "sentencia": "columna",
                "columna": "id_usuario",
                "tipo": "INTEGER",
                "detalles": "NOT NULL UNIQUE",
                "atributos": [
                    "nombre_humano: ID de usuario"
                ]
            },
            {
                "sentencia": "columna",
                "columna": "token_de_sesion",
                "tipo": "VARCHAR",
                "detalles": "(128)",
                "atributos": [
                    "nombre_humano: Token de sesión"
                ]
            },
            {
                "sentencia": "clave foránea",
                "columna": "id_usuario",
                "tabla_foranea": "Usuario",
                "columna_foranea": "id"
            }
        ],
        "script": "\n\nCREATE TABLE Sesion /*\n  @tiene_autorizador: es_administrador\n  @nombre_humano: Sesión\n*/ (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  id_usuario INTEGER NOT NULL UNIQUE /*\n    @nombre_humano: ID de usuario\n  */,\n  token_de_sesion VARCHAR(128) /*\n    @nombre_humano: Token de sesión\n  */,\n  FOREIGN KEY (id_usuario) REFERENCES Usuario (id)\n);"
    }
]